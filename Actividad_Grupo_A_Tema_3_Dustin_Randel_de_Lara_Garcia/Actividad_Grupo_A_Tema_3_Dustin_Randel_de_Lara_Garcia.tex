\documentclass[11pt,a4paper]{article}

% ---- Márgenes
\usepackage[a4paper, left=2cm, right=2cm, top=2.5cm, bottom=2.5cm]{geometry}

% ---- Idioma y fuentes (pdfLaTeX)
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish, es-tabla]{babel}

% ---- “Arial-like” con pdfLaTeX: Helvetica
\usepackage[scaled=0.92]{helvet}
\renewcommand{\familydefault}{\sfdefault}

% ---- Matemáticas y tablas
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{tabularx,booktabs}


% ---- Gráficos
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}
\usepackage[table,xcdraw]{xcolor}
\definecolor{verdePastel}{RGB}{204, 235, 197}
\definecolor{verdeFresco}{RGB}{60,160,60}

% ---- Estilo y utilidades
\usepackage{fancyhdr}
\setlength{\headheight}{14pt}
\usepackage{csquotes}
\usepackage{parskip}
\usepackage{array,longtable}
\renewcommand{\arraystretch}{1.4}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{B}[1]{>{\raggedright\arraybackslash}p{#1}}

% ---- URLs más “rompibles”
\usepackage{xurl}

% ---- Bibliografía (biber)
\usepackage[
  backend=biber,
  style=numeric,
  sorting=none,
  maxbibnames=99
]{biblatex}
\addbibresource{referencias.bib}

% ---- Hipervínculos (cargar al final)
\usepackage{hyperref}
\hypersetup{
  pdfauthor={Dustin Randel De Lara García},
  pdftitle={Actividad Grupo A - Tema 3: Aportaciones de la Física y de la Química a la sociedad de la comunicación},
  pdfkeywords={Física, Química, comunicación, UNED},
  colorlinks=true,
  linkcolor=verdeFresco,
  urlcolor=verdeFresco,
  citecolor=verdeFresco
}

% ---- “Tabla” en lugar de “Cuadro”
\addto\captionsspanish{\renewcommand{\tablename}{Tabla}}

% ---- Encabezados/pies
\pagestyle{fancy}
\rhead{UNED}
\lhead{Actividad Grupo A - Tema 3}
\cfoot{\thepage}

\date{\today}

\begin{document}

\textbf{Título}: El lector de código de barras (del reflejo de la luz a la información digital)

\textbf{Autor}: Dustin Randel de Lara García \href{mailto:ddelara3@alumno.uned.es}{ddelara3@alumno.uned.es}

\section*{Planteamiento del tema}
Con los avances en óptica y electrónica, la luz pasó de ser solo un fenómeno de iluminación a convertirse en una fuente de información medible. En un código de barras, pequeñas diferencias de absorción y reflexión entre barras oscuras y espacios claros generan variaciones de luz que un sensor puede transformar en señales eléctricas. 

La cuestión que se plantea es cómo un patrón tan simple impreso en papel puede leerse de forma rápida y fiable en contextos reales (supermercados, logística o bibliotecas), convirtiéndose en datos digitales que identifiquen un producto sin errores: el escáner ilumina el código, registra la luz reflejada, la convierte en señal y un decodificador interpreta la secuencia resultante.

\section*{Objetivo del ejemplo}
\begin{itemize}
  \item Introducir (a nivel divulgativo) nuevos conceptos de óptica y electrónica asociados a una tecnología cotidiana: interacción luz-superficie y detección mediante sensores.
  \item Comprender cualitativamente cómo un lector de códigos de barras transforma un patrón impreso en una señal eléctrica y, después, en información digital decodificada.
\end{itemize}

\section*{Leyes de la Física y la Química que intervienen}
\begin{itemize}
  \item Interacción luz-materia: absorción y reflexión (contraste óptico).
  \item Ley de la reflexión y reflexión especular/difusa.
  \item Física de semiconductores: unión p-n y efecto fotoeléctrico en fotodiodos (luz → señal eléctrica).
  \item Ley de Ohm.
  \item Teoría de señales: ruido, filtrado y umbralización para obtener información digital.
\end{itemize}

\section*{Fenómenos que se pueden interpretar}
\begin{itemize}
  \item Diferencia entre absorción en barras oscuras y reflexión en espacios claros (contraste óptico).
  \item Conversión energía luminosa → señal eléctrica en un sensor (variación de corriente/tensión).
  \item Aparición de una señal “tipo onda” al escanear: picos (zonas claras) y valles (zonas oscuras).
  \item Cómo influyen distancia, inclinación, brillo del papel, calidad de impresión y luz ambiente (ruido).
  \item Idea de codificación: distintos anchos de barras/espacios representan información.
\end{itemize}

\section*{Experimentos y observaciones que se pueden llevar a cabo}

Con una fuente de luz (por ejemplo, un puntero láser de baja potencia) y un sensor (fotodiodo/fototransistor), se registra cómo cambia la señal eléctrica cuando el patrón de barras se desplaza frente al sistema. A partir de las medidas se obtiene una gráfica de la señal y se aplica un criterio de umbral para convertirla en 0/1 y tratar de decodificar el código, analizando el efecto del ruido y de las condiciones de lectura.

\section*{Consideraciones acerca de su adaptación al aula de bachillerato}

En el caso presente, las posibles dificultades para llevarlo al aula de Bachillerato y las soluciones que pueden adoptarse son:

\begin{itemize}
  \item Conceptos fuera del temario (óptica aplicada y sensores):
  \begin{itemize}
    \item Solución: enfoque cualitativo con esquemas de bloques (fuente $\rightarrow$ sensor $\rightarrow$ señal $\rightarrow$ umbral $\rightarrow$ código) y analogías, sin modelos avanzados.
  \end{itemize}

  \item Decodificación real demasiado compleja (estándares EAN/UPC):
  \begin{itemize}
    \item Solución: usar una codificación didáctica simplificada, centrada en el paso señal $\rightarrow$ bits $\rightarrow$ identificador.
  \end{itemize}

  \item Ruido y errores de medida (luz ambiente, alineación, distancia):
  \begin{itemize}
    \item Solución: tratarlo como parte del aprendizaje: repetir medidas, comparar condiciones y ajustar un umbral (y filtrado simple si hace falta).
  \end{itemize}
  \item Práctica de laboratorio ``seria'' (toma de datos y tratamiento cuantitativo):
  \begin{itemize}
    \item Solución: plantearla como una \emph{práctica introductoria} de instrumentación, donde el objetivo no es la precisión sino experimentar cómo la teoría se conecta con un dispositivo real. El alumnado observa la señal, identifica fuentes de error (ruido, alineación, luz ambiente) y aplica decisiones simples (repetir, ajustar umbral) para obtener una lectura coherente.


  \end{itemize}
  \item Recursos/tiempo y seguridad (especialmente si se usa láser):
  \begin{itemize}
    \item Solución: práctica por grupos con montaje fijo y normas de seguridad; si no hay material, trabajar con datos ya capturados para que todos puedan graficar y decodificar.
  \end{itemize}
\end{itemize}


\section*{Permiso de difusión entre los participantes en el máster}
El autor permite que el ejemplo sea difundido entre los participantes en el Máster de Formación del Profesorado de la UNED.

\newpage
\section{Desarrollo del lector de códigos de barras}
\label{sec:desarrollo-vcr}

\subsection*{Contextualización e introducción}

En la sociedad de la información, una parte esencial de la comunicación no es solo transmitir mensajes entre personas, sino identificar y registrar objetos de forma rápida y fiable en procesos cotidianos (venta, inventario, logística o bibliotecas). En ese contexto, el código de barras se consolidó como una solución simple y robusta: representa un identificador mediante un patrón impreso de barras y espacios, de modo que pueda leerse automáticamente por un dispositivo.

El lector de códigos de barras realiza esa lectura mediante un proceso físico-tecnológico: ilumina el patrón (típicamente con un escáner láser), las barras oscuras absorben más luz y los espacios claros reflejan más, y el sistema convierte la luz reflejada en una señal eléctrica que posteriormente es interpretada por un decodificador \parencite{UNED_Tema3_Barcode}. Esta idea enlaza con la estandarización de los códigos más extendidos en el comercio minorista, como la familia EAN/UPC \parencite{GS1_EANUPC}, cuya especificación técnica está recogida en la norma ISO/IEC 15420 \parencite{ISO_IEC_15420_2025}.

A partir de esta idea, en el presente trabajo se realizará primero una fundamentación teórica que establezca las leyes y fenómenos implicados; posteriormente se explicará el proceso de lectura por etapas para clarificar la cadena completa (iluminación, detección, generación de señal y decodificación); y, finalmente, se propondrá un experimento guiado para afianzar los conceptos, acompañado de una rúbrica de evaluación para valorar el desempeño del alumnado en la actividad práctica.

\subsection*{Fundamentación teórica: bases físicas y químicas que sostienen el proceso de lectura}

\subsubsection*{Contraste óptico: absorptancia, reflectancia y transmitancia (balance energético)}
En radiometría, la \emph{potencia radiante} (o \emph{flujo radiante}) $\Phi$ es la energía electromagnética transportada por la luz por unidad de tiempo; se mide en vatios (W = J/s) \parencite{RIT_RadiometryIntro}. Sea $\Phi_i$ la potencia radiante incidente sobre una pequeña región del código. Por conservación de la energía, esa potencia se reparte en tres contribuciones:
\begin{equation}
\Phi_i = \Phi_r + \Phi_t + \Phi_a,
\label{eq:potencias}
\end{equation}
donde $\Phi_r$ es la potencia reflejada, $\Phi_t$ la potencia transmitida y $\Phi_a$ la potencia absorbida \parencite{NIST_RegularSpectralTransmittance}.

A partir de \eqref{eq:potencias} se definen las fracciones adimensionales (entre 0 y 1):
\begin{equation}
R \equiv \frac{\Phi_r}{\Phi_i}\quad\text{(reflectancia)},\qquad
T \equiv \frac{\Phi_t}{\Phi_i}\quad\text{(transmitancia)},\qquad
A \equiv \frac{\Phi_a}{\Phi_i}\quad\text{(absortancia)}.
\label{eq:ARTdef}
\end{equation}
Dividiendo \eqref{eq:potencias} entre $\Phi_i$ y usando \eqref{eq:ARTdef} se obtiene directamente:
\begin{equation}
1 = R + T + A \quad \Rightarrow \quad A + R + T = 1
\label{eq:balance}
\end{equation}
Esta igualdad vale siempre por conservación de la energía, pero las magnitudes $A$, $R$ y $T$ pueden depender de la longitud de onda $\lambda$ y de la geometría de iluminación/observación (por ejemplo, del ángulo de incidencia). 

En soportes opacos como papel o cartón suele tomarse $T \approx 0$, por lo que $A + R \approx 1$. En un código de barras, las barras oscuras tienen mayor $A$ (menor $R$) y los espacios claros mayor $R$ (menor $A$), generando el contraste que explota el lector \parencite{UNED_Tema3_Barcode}.


\subsubsection{Reflexión: ley de la reflexión y reflexión especular/difusa}
Para una superficie idealmente lisa (tipo espejo), la reflexión es especular y la dirección del rayo reflejado viene fijada por la ley de la reflexión:
\begin{equation}
\theta_r=\theta_i,
\label{eq:reflexion}
\end{equation}
donde $\theta_i$ y $\theta_r$ se miden respecto a la normal a la superficie \parencite{OpenStax_Reflection}. En ese caso, la luz reflejada se concentra en una dirección concreta, por lo que un detector fuera de esa dirección recibiría muy poca señal.

En cambio, en materiales reales como el papel o muchas etiquetas, la superficie es rugosa a escala microscópica y la reflexión es mayoritariamente difusa: la luz no se devuelve en un único rayo ``como un espejo'', sino que se dispersa en múltiples direcciones \parencite{OpenStax_DiffuseReflection}. Esto explica por qué el sensor puede recibir luz reflejada aunque no esté exactamente alineado con el ángulo especular. Aun así, la geometría del montaje (ángulo y distancia entre emisor, superficie y receptor) influye en la cantidad de luz captada y, por tanto, en la amplitud de la señal medida.

En la práctica, muchas superficies no son puramente difusas ni puramente especulares, sino una combinación de ambas. Por ejemplo, en envoltorios brillantes (plástico) aumenta la componente especular responsable del ``brillo'', pero suele persistir una componente difusa debida a micro-rugosidad, arrugas y a la propia tinta impresa. La lectura del código sigue siendo posible siempre que la potencia óptica recogida por el sensor conserve suficiente contraste entre barras y espacios; en superficies muy brillantes, el reflejo especular puede reducir ese contraste, haciendo más relevante la elección del ángulo de lectura y el ajuste de umbral/ganancia.
\subsubsection{Modelo simplificado: potencia reflejada que llega al sensor}
Sea $P_0$ la potencia óptica incidente sobre una pequeña zona del código y $\rho(x)$ la reflectancia efectiva de esa zona (alta en blanco y baja en negro). En primera aproximación, la potencia óptica que alcanza el receptor puede modelarse como
\begin{equation}
P_{\text{det}}(x)=\eta\,\rho(x)\,P_0,
\label{eq:Pdet}
\end{equation}
donde $\eta$ agrupa la geometría del montaje (distancia, ángulo y apertura/campo de visión del receptor) y pérdidas del sistema. Esta expresión es suficiente para justificar que, al recorrer barras y espacios, la potencia reflejada que llega al sensor varía y transporta la información del patrón.

\subsubsection{Fotodiodo: conversión de luz a señal eléctrica}
Un \emph{fotodiodo} es un semiconductor (con unión p-n tipo diodo) diseñado específicamente para actuar como \emph{sensor de luz}. Por ello, es habitual encontrarlo en sistemas de detección óptica (por ejemplo, en lectores láser 1D), donde su función principal es convertir la potencia luminosa recibida en una señal eléctrica medible \parencite{Hamamatsu_SiPhotodiodes}. En la práctica, el componente suele presentarse encapsulado (con una pequeña ventana o superficie fotosensible, (Fig.~\ref{fig:fotodido}), mientras que en esquemas eléctricos se representa mediante el símbolo de un diodo acompañado de flechas que indican la luz incidente (Fig.~\ref{fig:fotodiodo-simbolo}).

\begin{figure}[H]
  \centering
  \begin{subfigure}[b]{0.48\textwidth}
    \centering
    \includegraphics[width=\textwidth]{Fotodiodo.png}
    \caption{}
    \label{fig:fotodido}
  \end{subfigure}
  \hfill
  \begin{subfigure}[b]{0.48\textwidth}
    \centering
    \includegraphics[width=\textwidth]{Simbolo_fotodiodo.png}
    \caption{}
    \label{fig:fotodiodo-simbolo}
  \end{subfigure}

  \caption{(a) Imagen de un fotodiodo real. (b) Símbolo eléctrico de un fotodiodo, su sentido normal de circulación es del + al -. Fuentes: (a) \cite{RS4975661_BPW21}, (b) \cite{SlideShare_FotodiodoExpo_5582982}.}
  \label{fig:dos-imagenes}
\end{figure}

Desde el punto de vista funcional, el fotodiodo \emph{transforma luz en corriente}: cuando recibe potencia óptica $P_{\text{det}}$, genera una fotocorriente $I_{ph}$ aproximadamente proporcional. Esta proporcionalidad se describe mediante la \emph{responsividad} espectral $\mathcal{R}(\lambda)$ (A/W), de forma que:
\begin{equation}
I_{ph}(t)\approx \mathcal{R}(\lambda)\,P_{\text{det}}(t).
\label{eq:Iph_simple}
\end{equation}
Así, si llega más luz (por ejemplo, al iluminar una zona clara del código), la corriente aumenta; si llega menos luz (barra oscura), la corriente disminuye. Esta idea es suficiente para entender cómo el contraste óptico se convierte en una señal eléctrica que luego podrá acondicionarse y digitalizarse \parencite{Hamamatsu_SiPhotodiodes}.


\subsubsection{Acondicionamiento: de corriente a tensión}
Los diodos tienen un sentido ``natural'' de circulación de corriente, asociado a la \emph{polarización directa}: en ese sentido el diodo deja pasar la corriente y prácticamente no lo permite en el inverso. Sin embargo, decir que ``no pasa corriente'' en inversa es una simplificación: en la práctica la corriente es \emph{muy pequeña}, pero no exactamente cero.

En un \emph{fotodiodo} se aprovecha precisamente lo que ocurre cuando llega luz. Al iluminar la unión del diodo, la energía luminosa genera ``cargas eléctricas móviles'' dentro del semiconductor (de forma intuitiva: aparecen cargas que pueden moverse y producir corriente). Si el fotodiodo está \emph{polarizado en inversa}, el propio campo eléctrico interno empuja esas cargas en sentidos opuestos y el circuito externo detecta ese movimiento como una corriente en sentido inverso. Cuanta más luz llega, más cargas se generan y mayor es esa corriente: la \emph{fotocorriente} $I_{ph}$ \parencite{SlideShare_FotodiodoExpo_5582982}.


Para poder medir y procesar esta señal, la fotocorriente se transforma en una tensión. La forma más simple consiste en hacer circular la fotocorriente por una resistencia de carga $R_L$, de modo que la salida viene dada aproximadamente por la ley de Ohm:
\begin{equation}
V_{out}(x)\approx I_{ph}(x)\,R_L.
\label{eq:RL_simple}
\end{equation}
El circuito (Fig.~\ref{fig:circuito-fotodiodo-simple}) convierte así la luz recibida en una tensión que sube y baja al pasar por barras y espacios. (El signo exacto dependerá de la orientación de $R_L$ y de la referencia elegida; aquí se adopta la convención ``más luz $\Rightarrow$ mayor $V_{out}$''.) \parencite{TI_SBOA061}.

\begin{figure}[H]
  \centering
  \includegraphics[width=0.70\textwidth]{Acondicionamiento_circuito.png}
  \caption{Circuito sencillo de fotodiodo polarizado en inversa con resistencia de carga $R$. 
  La luz incidente genera una fotocorriente $I_p$ que produce una caída de tensión en $R$ (señal de salida) \cite{SlideShare_FotodiodoExpo_5582982}.}
  \label{fig:circuito-fotodiodo-simple}
\end{figure}

\subsection{Proceso de lectura: del contraste óptico al identificador}

El funcionamiento de un lector de códigos de barras puede describirse como una cadena de conversión:
\[
\text{contraste óptico} \;\rightarrow\; \text{señal eléctrica} \;\rightarrow\; \text{señal digital} \;\rightarrow\; \text{identificador}.
\]
En muchos lectores 1D el sistema no forma una imagen completa, sino que obtiene una señal a partir de la variación de luz reflejada mientras el punto de lectura recorre el código.

\subsubsection{Barrido: del patrón espacial a una señal temporal}
En los lectores láser clásicos, el punto de iluminación se desplaza rápidamente mediante un elemento de barrido (espejo o prisma), lo que suele percibirse como una línea roja \parencite{Honeywell_BarcodeScannersGuide}. Desde el punto de vista físico, el barrido convierte el patrón espacial en señal temporal: si la posición del punto sobre el código es $x(t)$ y el movimiento se aproxima por velocidad constante $v$,
\begin{equation}
x(t)=v\,t.
\label{eq:xt_vt}
\end{equation}
Así, un ancho espacial $w$ (barra o espacio) se traduce en una duración
\begin{equation}
\Delta t = \frac{w}{v},
\label{eq:dt_wv}
\end{equation}
que será la magnitud que el lector estima para decodificar la simbología.

\subsubsection{Señal analógica: luz reflejada $\rightarrow$ tensión}
A medida que el punto recorre barras y espacios, la reflectancia efectiva $\rho(x)$ cambia (alta en claro, baja en oscuro). La potencia que llega al receptor y su conversión a corriente y tensión se modelan con las expresiones introducidas en la fundamentación (Ecs.~\ref{eq:Pdet}, \ref{eq:Iph_simple} y \ref{eq:RL_simple}; Fig.~\ref{fig:circuito-fotodiodo-simple}). En lectores reales, en lugar de una simple resistencia de carga se suele usar un \emph{amplificador de transimpedancia} (TIA, \emph{transimpedance amplifier}). La idea es sencilla: el fotodiodo entrega una \emph{corriente} muy pequeña y variable, y el TIA la convierte en una \emph{tensión} más grande y fácil de tratar \parencite{TI_SBOA061_PhotodiodeAmplifiers}.

Además, el acondicionamiento incluye filtrado, es decir, circuitos (o procesamiento digital posterior) que eliminan variaciones no deseadas de la señal. En este contexto, filtrar significa quedarse con las variaciones
debidas al patrón de barras/espacios y atenuar perturbaciones debidas al ruido \cite{TI_TIDU020A_ComparatorHysteresis}.

\subsubsection{Digitalización: muestreo y decisión por umbral}
La tensión $V_{out}(t)$ que sale del sensor es \emph{continua} (puede tomar cualquier valor), pero el lector necesita decidir, en cada instante, si está viendo una zona \emph{clara} o una \emph{oscura}. Para ello, el sistema mide la tensión muchas veces por segundo (muestra la señal) y compara cada medida con un umbral $V_{th}$ \parencite{Kulkarni_SamplingQuantization_ELE201,US6938824B2_BarcodeDecoding}.

Si tomamos una medida cada $T_s$ segundos (es decir, a una frecuencia $f_s=1/T_s$), obtenemos una lista de valores
$V_{out}[0],V_{out}[1],V_{out}[2],\dots$ donde $V_{out}[n]$ es la tensión en el instante $t=nT_s$ \parencite{Kulkarni_SamplingQuantization_ELE201}.
A partir de cada valor se toma una decisión binaria:
\begin{equation}
b[n]=
\begin{cases}
1, & V_{out}[n]\ge V_{th} \quad (\text{zona clara})\\
0, & V_{out}[n]< V_{th} \quad (\text{zona oscura})
\end{cases}
\label{eq:threshold_chain_disc}
\end{equation}
\parencite{TI_TIDU020A_ComparatorHysteresis}.

En condiciones reales, $V_{out}$ no es perfectamente estable: puede subir y bajar un poco por luz ambiente, inclinación, distancia o brillo del soporte. Si la señal oscila cerca del umbral, podrían aparecer cambios tipo ``101010'' aunque el haz no haya cambiado realmente de barra a espacio. Por eso se suele suavizar la señal (filtrado) y/o ajustar el umbral de forma más robusta (por ejemplo, con margen o adaptándolo al nivel medio) para evitar ese tipo de oscilaciones \parencite{TI_TIDU020A_ComparatorHysteresis,US6938824B2_BarcodeDecoding}.

Finalmente, como el haz se mueve, cada barra o espacio tiene un ancho $w$ que se traduce en un tiempo de paso $\Delta t=w/v$ (Ec.~\ref{eq:dt_wv}). Al muestrear, ese tiempo se convierte en un número de muestras aproximadamente $N \approx \Delta t/T_s$: barras más anchas producen secuencias más largas de 0 (o 1), y barras más estrechas producen secuencias más cortas.

\subsubsection{Decodificación: de duraciones a dígitos (EAN/UPC)}
Una vez obtenida la secuencia $b[n]$, el sistema mide longitudes relativas de barras y espacios (duraciones o muestras) y las interpreta según las reglas de la simbología. En el comercio, EAN/UPC está estandarizada (ISO/IEC 15420) y su uso se describe en las especificaciones de GS1 \parencite{ISO_IEC_15420_2025,GS1_GeneralSpecifications}. Además, el dígito de control (\emph{check digit}) permite verificar rápidamente la consistencia de la lectura y rechazar lecturas erróneas \parencite{GS1US_CheckDigitPDF}. De este modo, un fenómeno físico (contraste óptico) termina produciendo un dato fiable (identificador) utilizable por un sistema informático.


\section{Experimento}
\label{sec:experimento}

\subsection{Objetivo didáctico}
El objetivo del experimento es reproducir, con un montaje sencillo, la cadena de conversión que sigue un lector 1D:
\[
\text{contraste óptico} \;\rightarrow\; \text{señal eléctrica} \;\rightarrow\; \text{señal digital}.
\]
En particular, se pretende (i) obtener una señal $V_{\text{out}}$ que varíe al pasar por zonas claras/oscuras, (ii) representar y analizar esa señal, y (iii) aplicar un umbral para convertirla en una secuencia binaria $0/1$ (sin entrar en decodificación estándar EAN/UPC, que requiere además medir anchos relativos con precisión).

\subsection{Materiales}
\begin{itemize}
  \item Fuente de luz: puntero láser de baja potencia o LED.
  \item Superficie con patrón: código de barras personalizado impreso en papel .
  \item Sensor de luz: fotodiodo / fototransistor en un módulo sencillo.
  \item Resistencias de carga $R_L$ y cables/protoboard.
  \item Sistema de medida: multímetro (modo voltímetro).
  \item Soporte/montaje fijo: pinzas, base, regla o carril para desplazar el papel de forma controlada.
\end{itemize}

\subsection{Seguridad}
Si se utiliza un láser, se trabaja con el haz fijado en un soporte, evitando en todo momento dirigirlo hacia los ojos y sin mirar directamente al haz (ni a reflejos especulares intensos). Estas precauciones son coherentes con recomendaciones de seguridad para radiación láser en productos de baja potencia \parencite{UKHSA_LaserSafetyAdvice,Manchester_LaserSafety}.

\subsection{Montaje experimental}
\begin{enumerate}
  \item Se fija el láser apuntando hacia el papel, iluminando una región pequeña del patrón.
  \item Se coloca el sensor de luz cerca del haz reflejado (mismo lado que el emisor), a una distancia y ángulo donde reciba señal estable. En papel mate, la componente difusa ayuda a que el sensor reciba luz sin necesitar un alineado ``tipo espejo''.
  \item El papel con el patrón se coloca sobre una regla/carril y se desplaza lentamente (o paso a paso) frente al haz, procurando que el punto de iluminación recorra el código perpendicularmente a las barras.
\end{enumerate}

\subsection{Procedimiento}
\begin{enumerate}
  \item \textbf{Calibración rápida:}
  con el láser apagado, medir $V_{\text{out}}$ (luz ambiente). Encender el láser y ajustar la posición del sensor hasta obtener una variación apreciable al alternar entre una zona blanca y una negra del papel.
  \item \textbf{Elección de $R_L$:}
  si $V_{\text{out}}$ es demasiado pequeño, aumentar $R_L$; si satura o es muy ruidoso, reducir $R_L$.
  \item \textbf{Adquisición de datos:}
  desplazar el papel en pasos regulares (por ejemplo, $\Delta x = 1~\text{mm}$) y registrar $V_{\text{out}}$ en cada posición.
  \item \textbf{Repetición controlada:}
  repetir el recorrido al menos dos veces y comparar. Realizar, si se desea, una tercera medida cambiando una condición (más luz ambiente, distinta distancia sensor--papel, distinta inclinación) para observar cómo afecta el ruido a la realización de las medidas.
\end{enumerate}

\subsection{Tratamiento de datos: de señal analógica a bits}
\subsubsection{Representación}
Se grafica $V_{\text{out}}$ frente al índice de medida $n$ . Se deben identificar visualmente:
\begin{itemize}
  \item \emph{mesetas altas} (espacios claros) y \emph{mesetas bajas} (barras oscuras),
  \item \emph{transiciones} entre ambos niveles (bordes).
\end{itemize}

\subsubsection{Elección de umbral y binarización}
Se elige un umbral simple, por ejemplo
\[
V_{th}=\frac{V_{\max}+V_{\min}}{2},
\]
y se define la señal binaria:
\begin{equation}
b(n)=
\begin{cases}
1, & V_{\text{out}}(n)\ge V_{th}\\
0, & V_{\text{out}}(n)< V_{th}
\end{cases}
\end{equation}
Este paso reproduce la idea central del lector: convertir una señal con variación clara/oscura en una secuencia digital.

\subsection{Actividades entregables (antes, durante y después)}
\subsubsection{Actividad 1 (pre-lab): predicción cualitativa}
\begin{enumerate}
  \item Dibujar un esquema de bloques de la cadena:
  fuente $\rightarrow$ superficie $\rightarrow$ sensor $\rightarrow$ acondicionamiento $\rightarrow$ umbral $\rightarrow$ identificador.
  \item Indicar qué variable es mayor en blanco que en negro: $R$, $P_{\text{det}}$, $I_{ph}$ y $V_{\text{out}}$.
\end{enumerate}

\subsubsection{Actividad 2 (durante el lab): toma de datos y control de variables}
\begin{enumerate}
  \item Registrar una tabla con $n$ y $V_{\text{out}}$ para al menos 30 medidas.
  \item Repetir el barrido y calcular el valor medio y la desviación típica en 3 puntos (uno claramente blanco, uno claramente negro, uno en borde).
  \item Probar una variación (luz ambiente o distancia) y anotar cómo cambia $V_{\max}-V_{\min}$ (contraste) y el ``ruido'' visible.
\end{enumerate}

\subsubsection{Actividad 3 (post-lab): binarización y reflexión}
\begin{enumerate}
  \item Representar la gráfica $V_{\text{out}}(n)$ y marcar un umbral $V_{th}$ razonable.
  \item Construir la secuencia $b(n)$ y señalar al menos 5 transiciones (cambios $0\leftrightarrow 1$).
  \item Preguntas cortas:
  \begin{itemize}
    \item ¿Qué ocurre si $V_{th}$ se elige demasiado alto? ¿y demasiado bajo?
    \item ¿Qué condición experimental aumentó más los errores: más luz ambiente, más distancia o mayor inclinación? Comparar con los resultados de vuestros compañeros.
    \item Proponer dos mejoras del montaje para aumentar fiabilidad (p.\,ej.\ fijación mecánica, sombreado contra luz ambiente, repetir y promediar, acercar el sensor, etc.).
  \end{itemize}
\end{enumerate}


\section{Evaluación del ejemplo}
La Tabla~\ref{tab:rubrica-actividades-barcode} presenta la rúbrica empleada para evaluar las \textit{entregas del alumnado} asociadas al experimento (registro de datos, gráficas, binarización y reflexión final), valorando la calidad del trabajo presentado y la comprensión del proceso de lectura.
\begin{table}[H]
\centering
\footnotesize
\renewcommand{\arraystretch}{1.25}
\begin{tabularx}{\textwidth}{|p{4.8cm}|p{1.6cm}|X|}
\hline
\rowcolor{verdePastel}
\textbf{Criterio (general)} & \textbf{Puntos} & \textbf{Qué busco al corregir (descriptores)} \\
\hline

\textbf{Comprensión previa (pre-lab): cadena y predicciones} & \textbf{0 - 3} &
\textbf{3}: presenta un esquema de bloques claro de la cadena completa y realiza predicciones correctas (qué magnitudes aumentan/disminuyen en blanco vs.\ negro). \newline
\textbf{2}: esquema y predicciones mayoritariamente correctas, pero con alguna omisión o explicación incompleta. \newline
\textbf{1}: trabajo parcial o confuso; varias predicciones incorrectas y justificación débil. \newline
\textbf{0}: no entrega o el contenido es incorrecto. \\
\hline

\textbf{Trabajo experimental (durante el lab): datos y control de variables} & \textbf{0 - 4} &
\textbf{4}: registra datos suficientes y ordenados (tabla) y muestra repetición/consistencia; incluye algún cálculo simple (media/desviación típica) y analiza el efecto de cambiar una condición (ruido), con una conclusión breve. \newline
\textbf{3}: datos correctos pero incompletos (poca repetición o análisis parcial). \newline
\textbf{1 - 2}: datos escasos o poco claros; análisis superficial o sin comparación. \newline
\textbf{0}: no hay datos útiles. \\
\hline

\textbf{Tratamiento y reflexión (post-lab): gráfica, binarización y mejora} & \textbf{0 - 3} &
\textbf{3}: representa la señal correctamente, propone un umbral razonable y obtiene una secuencia binaria coherente; responde a las cuestiones justificando con la gráfica y propone mejoras realistas del montaje. \newline
\textbf{2}: tratamiento correcto pero con alguna justificación incompleta (umbral o mejoras poco argumentadas). \newline
\textbf{1}: entrega parcial (falta gráfica o binarización) o interpretación confusa. \newline
\textbf{0}: no realiza el tratamiento o es mayoritariamente incorrecto. \\
\hline

\end{tabularx}
\caption{Rúbrica general (3 criterios) para evaluar las actividades asociadas al experimento de lectura de código de barras. Puntuación total: 10 puntos.}
\label{tab:rubrica-actividades-barcode}
\end{table}


\printbibliography

\end{document}
